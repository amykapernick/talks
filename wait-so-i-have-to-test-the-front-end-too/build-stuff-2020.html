<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>Wait, so I have to test the front end too?</title>

	<link rel="stylesheet" href="../css/reveal.css" />

	<link rel="stylesheet" href="../css/print/paper.css" />
</head>

<body class="">
	<header role="banner"></header>

	<div class="reveal">
		<div class="slides">
			<!-- Slides start here -->
			<section>
				<p>Wait...<br /><small>So I have to test the front end too?</small></p>
				<aside class="notes" data-markdown>
					- Test clicker
				</aside>
			</section>

			<section>
				<p>Wait...<br /><small>So I have to test the front end too?</small></p>
				<aside class="notes" data-markdown>
					- Clicker has been tested
				</aside>
			</section>

			<section class="blank">
				<img src="./../front-end-web-fundamentals/perth.png" />
				<aside class="notes" data-markdown>
					- I hail from Perth in Australia and I'm a bit disappointed I didn't get to be there in person
					- I've heard amazing things about both Build Stuff conferences and was really looking forward to getting to be there in person
					- Although I don't miss not having to spend 30 hours on a plane to get there
					- Hopefully I'll get to be there in person next year (or maybe 2022)
				</aside>
			</section>

			<section class="blank">
				<img class="background" src="../img/background.jpg" />
				<aside class="notes" data-markdown>
					- In the real world, I'm a freelance front end developer, which means I spend most of my time at the beach and the rest
					of it working from home in my pyjamas
					- I'm also heavily involved in the Perth tech community, help run a user group for front end
					developers, am on the committee for the DDD Perth conference, attend all the Perth tech meetups and
					work as an evangelist for YOW conferences
					- Last year I also became a Twilio champion and a Microsoft MVP
				</aside>
			</section>

			<section class="blank">
				<img class="background" src="../img/rem.jpg" />
				<aside class="notes" data-markdown>
					- I also have a beautiful grey and white border collie who sits next to me wherever I'm working from
					home
					- And he's been very suspicious about having me at home so much this year, like he expects me to abandon him for a very very long trip any time I leave the house
				</aside>
			</section>

			<section>
				<p>Wait...<br /><small>So I have to test the front end too?</small></p>
				<aside class="notes" data-markdown>
					- But today I'm here to talk about testing
				</aside>
			</section>

			<section>
				Why test?
				<aside class="notes" data-markdown>
					- We all know that testing is important, that's never a question
					- Although there is a lot of debate about whether you should write your code or your tests first
					- We even have a software process, test driven development, centred around tests
				</aside>
			</section>

			<section data-state="tweet" data-text="We make sure we test, but why do we forget the front end? The front end matters too! #NDCLondon">
				<p>What about the front end?</p>
				<aside class="notes" data-markdown>
					- But despite all those strong opinions
					- We often don't hear about what's happening on the front end
				</aside>
			</section>

			<section>
				<p>The front end matters too</p>
				<aside class="notes" data-markdown>
					- There are so many different tests we need to be running on the front end

				</aside>
			</section>

			<section>
				<div class="tagcloud">
					<span class="fragment">Accessibility testing</span>
					<span class="fragment">Performance testing</span>
					<span class="fragment">User testing</span>
					<span class="fragment">HTML validation</span>
					<span class="fragment">Visual Regression testing</span>
				</div>
				<aside class="notes" data-markdown>
					- Accessibility testing, performance testing, user testing, HTML validation, visual regression
					testing
					- It's often hard to work out what you need to test for and where to start
				</aside>
			</section>

			<section>
				<p>Linting</p>
				<aside class="notes" data-markdown>
					- Ok, not technically testing
				</aside>
			</section>

			<section>
				<p>Automated checking for <mark>programmatic and stylistic</mark> errors</p>
				<aside class="notes" data-markdown>
					- Type of automated check
					- Happens early in development
					- Checks for (and sometimes fixes) small stylistic errors
				</aside>
			</section>

			<section>
				<div class="table-grid">
					<span><img src="./eslint.svg" /></span>
					<span><img src="./stylelint.svg" /></span>
				</div>
				<aside class="notes" data-markdown></aside>
			</section>

			<section>
				<section class="code">
					<pre><code data-trim class="hljs bash">
						npm install eslint
					</code></pre>
					<aside class="notes" data-markdown>
						- Back to demo (`eslint-template`)
						- If demo doesn't work, click down ‚¨á
					</aside>
				</section>
				<section class="blank">
					<video autoplay>
						<source src="./backups/eslint/eslint.mp4" type="video/mp4" />
						<track label="English" kind="subtitles" srclang="en" src="./backups/eslint/eslint.vtt">
					</video>
					<aside class="notes"></aside>
				</section>
			</section>

			<section>
				<figure>
					<img src="./eslint-rules.png" />
					<figcaption>https://eslint.org/docs/rules</figcaption>
				</figure>
			</section>

			<section>
				<section class="code">
					<pre><code data-trim class="hljs bash">
							npm install stylelint
						</code></pre>
					<aside class="notes" data-markdown>
						- Back to demo (`stylelint-template`)
						- If demo doesn't work, click down ‚¨á
					</aside>
				</section>
				<section class="blank">
					<video autoplay>
						<source src="./backups/stylelint/stylelint.mp4" type="video/mp4" />
						<track label="English" kind="subtitles" srclang="en" src="./backups/stylelint/stylelint.vtt">
					</video>
					<aside class="notes"></aside>
				</section>
			</section>

			<section>
				<figure>
					<img src="./stylelint-rules.png" />
					<figcaption>https://stylelint.io/user-guide/rules</figcaption>
				</figure>
			</section>

			<section>
				<p>Accessibility Testing</p>
				<aside class="notes" data-markdown>
					- Validating HTML
					- Checking for alt tags
					- Colour Contrast
					- Screen readers and reader modes
					- Google Home and voice assistants
				</aside>
			</section>

			<section>
				<figure>
					<img src="./pa11y-website.png" />
					<figcaption>https://pa11y.org</figcaption>
				</figure>
			</section>

			<section>
				<p>Web Content Accessibility Guidelines<br /><mark>WCAG</mark></p>
				<aside class="notes" data-markdown>
					- Tests against the web content accessibility Guidelines
					- The current guidelines are WCAG 2.1 which were published in 2018
				</aside>
			</section>

			<section>
				<figure>
					<img src="./wcag-website.png" />
					<figcaption>https://www.w3.org/WAI/standards-guidelines/wcag</figcaption>
				</figure>
				<aside class="notes" data-markdown>
					- You can find a list of the current guidelines on the website for the World Wide Web Consortium (or W3C)
					- This is an international community of people (some staff, some public) who develop the web standards we work with each day
				</aside>
			</section>

			<section>
				<ul>
					<li class="fragment"><strong>A</strong> - <small>Minimum, mostly accessible but not convenient</small></li>
					<li class="fragment"><strong>AA</strong> - <small>General standard, balance of ease of use & development</small></li>
					<li class="fragment"><strong>AAA</strong> - <small>Highest standard, sites for persons with disabilities</small></li>
				</ul>
				<aside class="notes" data-markdown>
					- The WCAG guidelines have 3 different levels of conformance
					- A is the bare minimum, most sites meet this level where their site is mostly accessible but not convenient for persons with disabilities
					- AA is the general standard, if you're looking to make your website accessible, AA is probably what you're aiming for.
					- AAA is the highest standard, and usually followed by companies whose websites are for people with disabilities
				</aside>
			</section>

			<section>
				<figure>
					<img src="./pa11y-website.png" />
					<figcaption>https://pa11y.org</figcaption>
				</figure>
			</section>

			<section>
				<section class="code">
					<pre><code data-trim class="hljs bash">
							npm install pa11y
						</code></pre>
					<aside class="notes" data-markdown>
						- Back to demo (`pa11y-test`)
					</aside>
				</section>
				<section class="blank">
					<video autoplay>
						<source src="./backups/pa11y/pa11y_basic.mp4" type="video/mp4" />
						<track label="English" kind="subtitles" srclang="en" src="./backups/pa11y/pa11y_basic.vtt">
					</video>
					<aside class="notes"></aside>
				</section>
				<section class="blank">
					<video autoplay>
						<source src="./backups/pa11y/pa11y_save_results.mp4" type="video/mp4" />
						<track label="English" kind="subtitles" srclang="en" src="./backups/pa11y/pa11y_save_results.vtt">
					</video>
					<aside class="notes"></aside>
				</section>
			</section>

			<section class="code medium">
				<pre><code data-trim class="hljs json">
						"code": "WCAG2AA.Principle1.Guideline1_1.1_1_1.H37",
						"type": "error",
						"typeCode": 1,
						"message": "Img element missing an alt attribute. Use the alt attribute to specify a short text alternative.",
						"context": "<img src=\"/img/hacktoberfest.png\">",
						"selector": "html > body > main > article > article:nth-child(1) > img",
						"runner": "htmlcs",
						"runnerExtras": {}
					</code></pre>
				<aside class="notes" data-markdown></aside>
			</section>

			<section class="code medium">
				<pre><code data-trim class="hljs json">
						"code": "WCAG2AA.Principle1.Guideline1_1.1_1_1.H37",
						"message": "Img element missing an alt attribute. Use the alt attribute to specify a short text alternative.",
						"context": "<img src=\"/img/hacktoberfest.png\">",
						"selector": "html > body > main > article > article:nth-child(1) > img",
					</code></pre>
				<aside class="notes" data-markdown></aside>
			</section>

			<section class="code medium">
				<pre><code data-trim class="hljs json">
					"context": "<img src=\"/img/hacktoberfest.png\">",
					"selector": "html > body > main > article > article:nth-child(1) > img"
					</code></pre>
				<aside class="notes" data-markdown></aside>
			</section>

			<section class="blank">
				<img class="background" src="./pa11y-error-html_update.png" />
				<aside class="notes" data-markdown></aside>
			</section>

			<section class="code">
				<pre><code data-trim class="hljs json">
						"code": "wcag2aa.principle1.guideline1_1.1_1_1.h37",
						"message": "img element missing an alt attribute. use the alt attribute to specify a short text alternative.",
					</code></pre>
				<aside class="notes" data-markdown></aside>
			</section>

			<section class="code">
				<pre><code data-trim class="hljs json">
						1_1.1_1_1.h37
					</code></pre>
				<aside class="notes" data-markdown></aside>
			</section>

			<section>
				<figure>
					<img src="./wcag-guidelines.png" />
					<figcaption>http://squizlabs.github.io/HTML_CodeSniffer/Standards/WCAG2/</figcaption>
				</figure>
			</section>

			<section>
				<section class="code small">
					<pre><code data-trim class="hljs js">
						pa11y('http://my-testing-blog.local', {
							actions: [
								'click element #tab-1',
								'wait for element #tab-1-content to be visible',
							],
							viewport: {
								width: 320,
								height: 480,
								ismobile: true
							},
							standard: 'wcag2aaa',
							headers: {
								'content-type': 'application/json'
							},
							method: 'post',
							postdata: '{"foo": "bar", "bar": "baz"}'
						});
					</code></pre>
					<aside class="notes" data-markdown>
						- Back to demo (`pa11y-options`)
					</aside>
				</section>
				<section class="blank">
					<video autoplay>
						<source src="./backups/pa11y/pa11y_test_options.mp4" type="video/mp4" />
						<track label="English" kind="subtitles" srclang="en" src="./backups/pa11y/pa11y_test_options.vtt">
					</video>
					<aside class="notes"></aside>
				</section>
			</section>

			<section class="blank">
				<img class="background" src="./pa11y_home.png" />
				<aside class="notes" data-markdown></aside>
			</section>

			<section class="code">
				<pre><code data-trim class="hljs js">
						await Promise.all([
							pa11y(`http://my-testing-blog.local`, options),
						])
					</code></pre>
				<aside class="notes" data-markdown>

				</aside>
			</section>

			<section>
				<section class="code">
					<pre><code data-trim class="hljs js">
							await Promise.all([
								pa11y(`http://my-testing-blog.local`, options),
								pa11y(`http://my-testing-blog.local/blog-post`, options)
							])
						</code></pre>
					<aside class="notes" data-markdown>
						- Back to demo (`pa11y-mobile-home`)
					</aside>
				</section>
				<section class="blank">
					<video autoplay>
						<source src="./backups/pa11y/pa11y_tests_multiple.mp4" type="video/mp4" />
						<track label="English" kind="subtitles" srclang="en" src="./backups/pa11y/pa11y_tests_multiple.vtt">
					</video>
					<aside class="notes">

					</aside>
				</section>
			</section>

			<section>
				<p>Visual Regression Testing</p>
				<aside class="notes" data-markdown>

				</aside>
			</section>

			<section class="blank">
				<img src="./visual-regression.png" />
				<aside class="notes" data-markdown>
					- Screenshots of app
					- Compares old to new
					- Visual equivalent of git diffs
				</aside>
			</section>

			<section class="blank">
				<img class="background" src="./backstop.png" />
				<aside class="notes" data-markdown>

				</aside>
			</section>

			<section class="blank">
				<img class="background" src="./html_report.png" />
				<aside class="notes" data-markdown>

				</aside>
			</section>

			<section>
				<p>Can yield false results</p>
				<aside class="notes" data-markdown>
					- Visual regression tests pixel perfect
					- Can yield failures where it's ok
					- Eg if images haven't loaded in properly yet
				</aside>
			</section>

			<section class="blank">
				<img class="background" src="./backstop-false-results.webp" />
				<aside class="notes" data-markdown>

				</aside>
			</section>

			<section>
				<figure>
					<img src="./backstop-threshold.png" />
					<figcaption>https://github.com/garris/BackstopJS</figcaption>
				</figure>
				<aside class="notes" data-markdown>
					- Can change the threshold to allow minor changes
				</aside>
			</section>

			<section>
				<p>End to end testing</p>
				<aside class="notes" data-markdown>

				</aside>
			</section>

			<section class="blank">
				<img class="background" src="./cypress-webpage.png" />
				<aside class="notes" data-markdown>
					- Cypress is one of many options
					- Mainly because it had previously been used in a project
					- Can be tricky to get your head around it
				</aside>
			</section>

			<section class="code">
				<pre><code data-trim class="hljs bash">
					npm install cypress
				</code></pre>
				<aside class="notes" data-markdown>
					- Still haven't gotten that on WSL
					- Currently using git bash to run it on Windows
				</aside>
			</section>

			<section>
				<section class="code">
					<pre><code data-trim class="hljs bash">
						cypress open
					</code></pre>
					<aside class="notes" data-markdown>
						- Back to demo (`cypress-home-tests`)
					</aside>
				</section>
				<section class="blank">
					<video autoplay>
						<source src="./backups/cypress/cypress_install.mp4" type="video/mp4" />
						<track label="English" kind="subtitles" srclang="en" src="./backups/cypress/cypress_install.vtt">
					</video>
					<aside class="notes">

					</aside>
				</section>
			</section>

			<section class="code medium">
				<pre><code data-trim class="hljs js">
					describe(`Blog Homepage`, () => {
					  before(() => {
					    cy.visit(`http://my-testing-blog.local`);
					  });
					
					  it(`Contains "My Testing Blog" in the title`, () => {
					    cy.title().should(`contain`, `My Testing Blog`);
					  });
					});
				</code></pre>
				<aside class="notes" data-markdown>

				</aside>
			</section>

			<section class="code medium">
				<pre><code data-trim class="hljs js">
					// Name of Test
					describe('Blog Homepage', () => {
					  // Runs at the start of this test
					  before(() => {
					    // Visit our website in the Cypress browser
					      cy.visit('http://my-testing-blog.local')
					    })

					  // Assertion - title should contain specific text
					  it('contains "My Testing Blog" in the title', () => {
					    cy.title().should('contain', 'My Testing Blog')
					  })
					})
				</code></pre>
				<aside class="notes" data-markdown>

				</aside>
			</section>

			<section>
				<figure>
					<img src="./chai-github.png" />
					<figcaption>https://github.com/chaijs/chai</figcaption>
				</figure>
			</section>

			<section>
				<figure>
					<img src="./cypress-assertions.png" />
					<figcaption>https://docs.cypress.io/guides/references/assertions.html</figcaption>
				</figure>
				<aside class="notes">

				</aside>
			</section>

			<section class="code">
				<pre><code data-trim class="hljs js">
					expect(name).to.not.equal('Jane')
				</code></pre>
				<aside class="notes" data-markdown>
					- Chain functions together
					- Make assumptions, `expect` or `should`
				</aside>
			</section>

			<section>
				<figure>
					<img src="./cypress-tutorials.png" />
					<figcaption>https://docs.cypress.io/examples/examples/tutorials.html</figcaption>
				</figure>
			</section>

			<section>
				<section class="code medium">
					<pre><code data-trim class="hljs js">
						describe(`Blog Homepage`, () => {
						  before(() => {
						   cy.visit(`http://my-testing-blog.local`);
						  });
						  
						  it(`Contains "My Testing Blog" in the title`, () => {
						   cy.title().should(`contain`, `My Testing Blog`);
						  });
						});
					</code></pre>
					<aside class="notes" data-markdown>
						- Back to demo (run cypress test)
					</aside>
				</section>

				<section class="blank">
					<video autoplay>
						<source src="./backups/cypress/cypress_test.mp4" type="video/mp4" />
						<track label="English" kind="subtitles" srclang="en" src="./backups/cypress/cypress_test.vtt">
					</video>
					<aside class="notes">

					</aside>
				</section>
				<section class="blank">
					<video autoplay>
						<source src="./backups/cypress/cypress_multiple_test.mp4" type="video/mp4" />
						<track label="English" kind="subtitles" srclang="en" src="./backups/cypress/cypress_multiple_test.vtt">
					</video>
					<aside class="notes">

					</aside>
				</section>
			</section>

			<section>
				<ul>
					<li class="fragment">Linting <span class="fragment">‚úÖ</span></li>
					<li class="fragment">Accessibility Testing <span class="fragment">‚úÖ</span></li>
					<li class="fragment">Visual Regression Testing <span class="fragment">‚úÖ</span></li>
					<li class="fragment">End to End Testing <span class="fragment">‚úÖ</span></li>
				</ul>
				<aside class="notes" data-markdown>

				</aside>
			</section>

			<section>
				<p>üéâ</p>
				<aside class="notes" data-markdown>

				</aside>
			</section>

			<section data-state="tweet" data-text="want more information about front end testing? check out this awesome list of resources https://noti.st/amyskapers/czxwo9/wait-i-have-to-test-the-front-end-too#resources">
				<figure>
					<img src="./intro-to-pa11y-jennifer.png" />
					<figcaption>https://youtu.be/DHPX2ShCxBc</figcaption>
				</figure>
			</section>

			<section>
				<figure>
					<img src="./24-ways.png" />
					<figcaption>https://24ways.org/2019/twelve-days-of-front-end-testing/</figcaption>
				</figure>
				<aside class="notes" data-markdown></aside>
			</section>

			<section>
				<figure>
					<img src="./javascript-january.jpg" />
					<figcaption>https://www.javascriptjanuary.com/blog/getting-started-with-front-end-testing
					</figcaption>
				</figure>
			</section>

			<section>
				<p>kapers.dev/build-stuff-2020</p>
				<aside class="notes" data-markdown>

				</aside>
			</section>

			<section>
				<p>Thank You üëè</p>
				<aside class="notes" data-markdown>

				</aside>
			</section>

			<!-- Slides end here -->
		</div>

		<footer role="contentinfo">
			@amys_kapers
		</footer>

		<script type="text/javascript" src="../lib/js/head.min.js"></script>
		<script type="text/javascript" src="../js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{
						src: '../plugin/markdown/marked.js'
					}, {
						src: '../plugin/markdown/markdown.js'
					}, {
						src: '../plugin/notes/notes.js',
						async: true
					}, {
						src: 'socket.io/socket.io.js',
						async: true
					}, {
						src: '../plugin/notes-server/client.js',
						async: true
					}, {
						src: '../plugin/highlight/highlight.js',
						async: true,
						callback: function () {
							hljs.configure({ tabReplace: '   ' });
							hljs.initHighlightingOnLoad();
						}
					}
				],
				controls: false,
				display: 'grid',
				width: "100%",
				height: "100%",
				margin: 0,
				minScale: 1,
				maxScale: 1,
				navigationMode: 'linear'
			});

			Reveal.addEventListener('tweet', () => {
				// const test = false

				// let currentSlide = document.querySelector('.reveal .slides section.present')

				// if (test) {
				// 	console.log('Testing Slides')
				// 	console.log(currentSlide.getAttribute('data-image'))
				// 	console.log(currentSlide.getAttribute('data-text'))
				// }
				// else {
				// 	fetch('https://maker.ifttt.com/trigger/presentation_tweet/with/key/beRMmnAy3N3L9juNkJjFJ8zx3VGEivPDoZcerduUSgY', {
				// 		method: 'POST',
				// 		mode: 'cors', // no-cors, *cors, same-origin
				// 		headers: {
				// 			'Content-Type': 'application/json'
				// 		},
				// 		body: JSON.stringify({ "value1": "test" }) // body data type must match "Content-Type" header
				// 	});

				// 	// if (currentSlide.getAttribute('data-image')) {
				// 	// 	console.log(currentSlide.getAttribute('data-image'))
				// 	// 	console.log(currentSlide.getAttribute('data-text'))
				// 	// } else {
				// 	// 	console.log(currentSlide.getAttribute('data-text'))
				// 	// }
				// }


			}, false)
		</script>
		</<header>

</html>